<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="formularstyle.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <title>VOLT: Formular</title>
  </head>
  <body>
    <header>
      <span onclick="openNav()"
        ><i class="fa fa-navicon" style="font-size:25px; float: right;"></i
      ></span>
      <a class="navlogo" href="https://getvolt.dk/" title="Volt" id="navbar">
        <svg height="48 " width="72">
          <image
            xlink:href="https://getvolt.dk/themes/volt/img/Volt-logo-nopowertogo.svg"
            src="https://getvolt.dk/themes/volt/img/Volt-logo-nopowertogo.png"
            height="48"
            width="72"
          ></image>
        </svg>
      </a>
      <div id="sideMenu" class="sideNav">
        <a
          href="javascript:void(0)"
          class="closebtn"
          style="font-size: 30px; float: right; width: 20px; border: none; margin-right: 3vw;margin-top: -8px;"
          onclick="closeMenu()"
          >&times;</a
        >
        <div class="punkter">
          <a href="https://getvolt.dk/festivals/">Festivals</a>
          <a href="https://getvolt.dk/volunteer/">Volunteer</a>
          <a href="https://getvolt.dk/shop/">Shop</a>
          <a href="https://getvolt.dk/help/">Help</a>
          <a href="https://getvolt.dk/blog/">Blog</a>
          <a
            href="https://"
            class="login"
            style=" color: #a6cc45; border-bottom: 1px solid #a6cc45;"
            >Login</a
          >
        </div>
      </div>
      <div class="topmenu">
        <ul class="menu menupunkter">
          <a
            class="navlogo1"
            href="https://getvolt.dk/"
            title="Volt"
            id="navbar1"
            style="float: left;"
          >
            <svg height="48 " width="72">
              <image
                xlink:href="https://getvolt.dk/themes/volt/img/Volt-logo-nopowertogo.svg"
                src="https://getvolt.dk/themes/volt/img/Volt-logo-nopowertogo.png"
                height="48"
                width="72"
              ></image>
            </svg>
          </a>
          <li><a href="https://getvolt.dk/festivals/">Festivals</a></li>
          <li><a href="https://getvolt.dk/volunteer/">Volunteer</a></li>
          <li><a href="https://getvolt.dk/shop/">Shop</a></li>
          <li><a href="https://getvolt.dk/help/">Help</a></li>
          <li><a href="https://getvolt.dk/blog/">Blog</a></li>
        </ul>
        <div id="sign">
          <a class="sprog">
            <img
              src="https://getvolt.dk/img/l/3.jpg"
              alt="DA"
              width="16"
              height="11"
          /></a>
          <div class="logIn">Log in</div>
          <button class="signup">SIGN UP</button>
        </div>
      </div>
    </header>

    <div class="timeline">
      <div class="events">
        <ol>
          <ul>
            <li>
              <a href="facebooklogin.html">Cart</a>
            </li>
            <li>
              <a href="formular.html" id="formularSelected"> Register</a>
            </li>
            <li>
              <a href="payment.html">Payment</a>
            </li>
          </ul>
        </ol>
      </div>
    </div>

    <div class="page-wrapper">
      <div class="cartcontainer">
        <h1>
          Summery
          <span class="price" style="color:black"
            ><i class="fa fa-shopping-cart"></i> <b>2</b></span
          >
        </h1>

        <div class="cart">
          <div class="grid1">
            <h2>Swapping Service - RF19</h2>

            <div class="numbersandtext">
              <select class="number">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>

              <p>Swap your Volt Charger every day for a fully charged one.</p>
            </div>
          </div>
          <div class="grid2">
            <img src="roskilde.png" />
            <p>179 DKK</p>
          </div>
        </div>

        <hr />
        <div class="cart">
          <div class="grid1">
            <h2>Volt Charger Deposit</h2>

            <div class="numbersandtext">
              <select class="number">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
              <p>
                At the end of the festival, get a free cable to use the Volt
                charger at home, or return it and get the deposit refunded.
              </p>
            </div>
          </div>
          <div class="grid2">
            <img src="download-1.png" />
            <p>200 DKK</p>
          </div>
        </div>
        <label>
          <input type="checkbox" name="bringown" />
          I bring my own VOLT Charger
        </label>
        <p>Delevery Option</p>
        <select class="levering">
          <option value="Shipped to home">Shipped to home, 50 DKK</option>

          >
        </select>
        <hr />
        <div class="totalprice">
          <p>
            Total 429 DKK
          </p>
        </div>
      </div>

      <div class="formcontent">
        <form>
          <section class="personalinfo">
            <h1>Registration</h1>
            <label for="fname"><i class="fa fa-user"></i> Full Name</label>
            <input
              type="text"
              id="fname"
              name="fullname"
              required
              placeholder="John M. Doe"
            />
            <label for="email"><i class="fa fa-envelope"></i> Email</label>
            <input
              type="text"
              id="email"
              name="email"
              required
              placeholder="john@example.com"
            />
            <label for="adr"
              ><i class="fa fa-address-card-o"></i> Address</label
            >
            <input
              type="text"
              id="adr"
              name="address"
              required
              placeholder="542 W. 15th Street"
            />
            <label for="city"><i class="fa fa-institution"></i> City</label>
            <input type="text" id="city" name="city" placeholder="New York" />
            <label for="country"><i class="fa fa-globe"></i> Country</label>
            <input
              type="text"
              id="country"
              name="country"
              required
              placeholder="Denmark"
            />
            <label for="Phone number"
              ><i class="fa fa-phone"></i> Phone number</label
            >
            <input
              type="text"
              id="Phone number"
              name="phonenumber"
              required
              placeholder="+45 12345678"
            />
          </section>

          <section class="company hidden">
            <label for="company"
              ><i class="fa fa-building"></i> Company Name</label
            >
            <input
              type="text"
              id="company"
              name="company"
              placeholder="John Doe INC"
            />
            <label for="VAT"><i class="fa fa-calculator"></i> VAT Number</label>
            <input type="text" id="VAT" name="VAT" placeholder="123456789" />
          </section>
          <label>
            Order as a company
            <input id="firmaCheckbox" type="checkbox" />
          </label>
          <div class="btn-next">
            <button class="next">Next</button>
          </div>
        </form>

        <div class="betaling hidden" id="payment">
          <hr />
          <p>Payment method</p>
          <a href="payment.html">
            <div class="symboler">
              <img src="credit-card1.png" />
              <img src="mobilepay.png" />
              <img src="paypal_PNG22.png" />
              <p>Credit Card</p>
              <p>Mobilepay</p>
              <p>Paypal</p>
            </div>
          </a>
        </div>
      </div>
    </div>

    <script>
      const form = document.querySelector("form");
      document.querySelector("#firmaCheckbox").addEventListener("change", e => {
        console.log(e);
        if (e.target.checked) {
          document.querySelector(".company").classList.remove("hidden");
        } else {
          document.querySelector(".company").classList.add("hidden");
        }
      });

      form.addEventListener("submit", e => {
        e.preventDefault();
        if (form.checkValidity()) {
          post({
            fullname: form.elements.fullname.value,
            email: form.elements.email.value,
            address: form.elements.address.value,
            city: form.elements.city.value,
            country: form.elements.country.value,
            phonenumber: form.elements.phonenumber.value,
            company: form.elements.company.value,
            VAT: form.elements.VAT.value
          });
          if (e.click) {
            document.querySelector(".betaling").classList.add("hidden");
          } else {
            document.querySelector(".betaling").classList.remove("hidden");
          }
        }
      });
      function openNav() {
        document.querySelector("#sideMenu").style.width = "100%";
      }
      function closeMenu() {
        document.querySelector("#sideMenu").style.width = "0";
      }

      ("use strict");

      // this function adds a new line in our DB that contains the last addet post
      function post(myData) {
        const postData = JSON.stringify(myData);
        fetch("https://voltdb-daf0.restdb.io/rest/volt", {
          method: "post",
          body: postData,
          headers: {
            "Content-Type": "application/json; charset=utf-8",
            "x-apikey": "5ca34052df5d634f46ecb192",
            "cache-control": "no-cache"
          }
        })
          .then(res => res.json())
          .then(myData => {
            // this clears the form fields when refreshed
            document.querySelector(".next").disabled = false;
            form.elements.fullname.value = null;
            form.elements.email.value = null;
            form.elements.address.value = null;
            form.elements.city.value = null;
            form.elements.country.value = null;
            form.elements.phonenumber.value = null;
            form.elements.company.value = null;
            form.elements.VAT.value = null;
          });
        console.log(post);
      }
    </script>
  </body>
</html>
